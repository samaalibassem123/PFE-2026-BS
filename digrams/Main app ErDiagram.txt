https://kroki.io/mermaid/svg/eNqFVMtyozAQvPsr5gfyA76RoGSdGOzCeKv2pFLBxFYMgpJEHmv73yMwGCGIo4MoulszPWIGlD5nO8nyGZjVbCiqnEarJYFj814vpSUXO_D8YBG6YPTHRdbR6pk8xDTwQu-JRA19bvbthkRW2O124QNPYf3ihqgUSsFydHHMGc-uoMZPDSVT6qOQ6RVtvMsiQ5hZqZuNBOvl6h_pHXChTcySTpqoidcqy-i0k5IO3bTEnkukKdM4SJJik-TxxbXkk7UXxQEJYzhOnRjbUoa4OjpfalwS7y9xAmTI3tEJYdX7OEQl46oQDqF5jkqzvNT_gZVl9kVrZJI2T6mHdds0irQnz71nGnmLzSp0rE_W3dfc3Z0XxyT0vfCB3Dxv-0j2mBwoFzfIotK_3FddCDB9KRcG4g_Eg4G_7I_TzsNNj-9MJnsmYdBqHchTFJq_cpRj25BINC5SWkzUBFWZuqT1BQIS3JNoc9PYzx1TyuINEz1u65n7Izmd7u5Ox8v0z8EMremGWau157ITWjMxBzPbB8p0J-08t9LubuewZ2pK0IWeA1edvevAjDT3mBViR3UxFg3atU_nNuIoZC1sVy39BvefbKs

erDiagram
    
    enum_ROLE {
        string ADMIN
        string RH
        string PROJECT_MANAGER
    }
    USER {
        UUID id PK
        string username
        string email
        text password
        ROLE role 

    }
    
    EMPLOYE{
        int emp_id PK
        string emp_full_name
        string emp_email
        string hire_date
        int dep_id FK
    }
    
    DEPARTMENT {
        int dep_id PK
        string sep_name
    }

    LEAVE {
        int leave_id PK
        int emp_id FK
        int raison_id FK
        timestamptz apply_time
        timestamptz start_date
        timestamptz end_date
    }
    LEAVE_RAISON {
        int id PK
        string name
    }   
    ATTENDANCE {
        int id PK
        timestamptz check_in
        timestamptz check_out
        int emp_id FK
        date att_date 
        int week_day
    }

    PROJECT {
        int id PK
        varchar name
        varchar identifier
        timestamp created_on
        timestamp updated_on
        
    }
    MEMBERS {
        int id PK
        int emp_id FK
        int project_id FK
    }
    

 
    enum_ROLE ||--|{ USER : extend

    


    EMPLOYE ||--|{ DEPARTMENT : work_at 


    MEMBERS ||--|{ PROJECT : has
    MEMBERS ||--|{ EMPLOYE : is
    

    LEAVE ||--|{ EMPLOYE : Belong_to
    LEAVE ||--|{ LEAVE_RAISON : has
    
    ATTENDANCE ||--|{ EMPLOYE : has







    

    